@model IEnumerable<BabunBank.Models.Customer.CustomerViewModel>

@{
    ViewBag.Title = "Account title";
    Layout = "_Layout";
}
<h1>Customer table</h1>
<div class="customer-container">
    <form method="get">
        <input name="q" value="@ViewBag.Q" placeholder="Search here....">
        <input type="submit" value="Search"/>
    </form>
    <h2>Page: @ViewBag.CurrentPage</h2>
    <table class="data-table">
        <thead class="header">
        <tr>
            <th>
                <span class="customer-table">
                    Gender
                    <a asp-action="Index" asp-controller="Customer"
                       asp-route-sortColumn="Gender"
                       asp-route-sortOrder="asc"
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_more
                        </i>
                    </a>

                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="Gender" 
                       asp-route-sortOrder="desc"
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_less
                        </i>
                    </a>
                </span>
            </th>

            <th>
                <span class="customer-table">
                    Given Name
                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="GivenName" 
                       asp-route-sortOrder="asc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_more
                        </i>
                    </a>

                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="GivenName" 
                       asp-route-sortOrder="desc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_less
                        </i>
                    </a>
                </span>
            </th>

            <th>
                <span class="customer-table">
                    Surname
                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="Surname" 
                       asp-route-sortOrder="asc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_more
                        </i>
                    </a>

                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="Surname" 
                       asp-route-sortOrder="desc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_less
                        </i>
                    </a>
                </span>
            </th>

            <th>
                <span class="customer-table">
                    Country
                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="Country" 
                       asp-route-sortOrder="asc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_more
                        </i>
                    </a>

                    <a asp-action="Index" 
                       asp-controller="Customer"
                       asp-route-sortColumn="Country" 
                       asp-route-sortOrder="desc" 
                       asp-route-q ="@ViewBag.Q"
                       style="text-decoration:none">
                        <i class="material-symbols-outlined">
                            expand_less
                        </i>
                    </a>
                </span>
            </th>

            <th>

            </th>
        </tr>
        </thead>
        <tbody class="body">

        @foreach (var customer in Model)
        {
            <tr>
                <td>@customer.Gender</td>
                <td>@customer.GivenName</td>
                <td>@customer.Surname</td>
                <td>@customer.Country</td>
                <td>
                    <a asp-controller="Account" asp-action="Details"
                       asp-route-id="@customer.Id"
                       asp-route-country="@customer.Country"
                       asp-route-sortColumn="@ViewBag.SortColumn"
                       asp-route-sortOrder="@ViewBag.SortOrder"
                       asp-route-q ="@ViewBag.Q">
                        <button>View more <i class="material-symbols-outlined">arrow_forward</i></button>
                    </a></td>
                @* <a class="navbar-link" asp-area="" asp-controller="Customer" asp-action="Index">Customer</a> *@
            </tr>
        }
        <tr>
            <td>
                <button>
                    <a asp-action="Index"
                       asp-controller="Customer"
                       asp-route-sortColumn="@ViewBag.SortColumn"
                       asp-route-sortOrder="@ViewBag.SortOrder"
                       asp-route-pageNumber="@(ViewBag.CurrentPage - 1)"
                       asp-route-q ="@ViewBag.Q">Next</a>
                </button>
            </td>
            
            <td></td>
            <td></td>
            <td></td>
            <td>
                <button>
                    <a asp-action="Index" 
                       asp-controller="Customer" 
                       asp-route-sortColumn="@ViewBag.SortColumn"
                       asp-route-sortOrder="@ViewBag.SortOrder"
                       asp-route-pageNumber="@(ViewBag.CurrentPage+1)"
                       asp-route-q="@ViewBag.Q">Next</a>
                </button>
            </td>
        </tr>
        </tbody>

    </table>
</div>
